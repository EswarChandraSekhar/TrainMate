<!-- Loader -->
<app-loader *ngIf="loading" message="Fetching feedbacks..."></app-loader>

<!-- Main Content -->
<div *ngIf="!loading" class="container py-4" style="background-color: #f0f4f8; border-radius: 12px; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);">

  <!-- Section Header -->
  <div class="mb-4">
    <h4 class="fw-semibold text-dark mb-1">
      <i class="bi bi-card-checklist me-2 text-primary"></i> Admin Feedback Review
    </h4>
    <hr style="width: 60px; border-top: 2px solid #1A2B49; margin-top: 0.2rem; margin-bottom: 0.5rem;" />
    <p class="text-muted small">Manage user-submitted feedbacks for approval or deletion</p>
  </div>

  <!-- Feedback Table -->
  <div class="table-responsive">
    <table class="table table-bordered align-middle bg-white shadow-sm rounded-3 mb-0">
      <thead class="text-white text-center" style="background-color: #1A2B49;">
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Title</th>
          <th>Description</th>
          <th>Approve</th>
          <th>Delete</th>
        </tr>
      </thead>
      <tbody *ngIf="reactions.length > 0; else noFeedback">
        <tr *ngFor="let reaction of reactions; let i = index">
          <td class="text-center fw-semibold">{{ i + 1 }}</td>
          <td class="text-nowrap">{{ reaction.firstName }}</td>
          <td class="text-nowrap">{{ reaction.title }}</td>
          <td style="max-width: 350px;" class="small text-muted">{{ reaction.description }}</td>
          <td class="text-center">
            <button class="btn btn-outline-success btn-sm px-3" (click)="onApprove(reaction)" title="Approve">
              âœ” Approve
            </button>
          </td>
          <td class="text-center">
            <button class="btn btn-outline-danger btn-sm px-3" (click)="onDeleteReaction(reaction)" title="Delete">
              ðŸ—‘ Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- No Data Template -->
    <ng-template #noFeedback>
      <div class="text-center text-muted py-4">
        <i class="bi bi-inbox-fill fs-4 me-2 text-secondary"></i> No feedbacks found.
      </div>
    </ng-template>
  </div>
</div>
